{% extends 'layout.html' %}
{% block title %}Registrar Carro{% endblock %}

{% block body %}


<section>
    <h2>
        <a href="/home" class="left" title="Volver"><i class="bi bi-arrow-left-circle"></i></a>
        Registrar Nuevo Usuario
        <hr>
    </h2>

    <form action="{{ url_for('formAddUser') }}" method="POST" class="mb-3" autocomplete="off" enctype="multipart/form-data" onsubmit="return validarFormulario"()>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
       
        <div class="row">
            <div class="col">
                <label for="name">Nombre</label>
                <input type="text" name="name" class="form-control" required>
            </div>
            <div class="col">
                <label for="lastname">Apellido</label>
                <input type="text" name="lastname" class="form-control" required>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="username">Nombre de usuario</label>
                <input type="text" name="username" class="form-control" required>
            </div>
            <div class="col">
                <label for="email">Correo</label>
                <input type="email" name="email" class="form-control" required>
            </div>
        </div>
       
        <div class="row">
            <div class="col">
                <label for="password">Contraseña</label>
                <input type="password" id="password "name="password" class="form-control" required>
            </div>
            <div class="col">
                <label for="check_password">Validar contraseña</label>
                <input type="password" id="check_password" name="check_password" class="form-control" required>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="typeUserId">Rol</label>
                <select name="typeUserId" id="typeUserId" class="form-control">
                    <option value="1">Administrador</option>
                    <option value="2">Supervisor</option>
                    <option value="3">Técnico</option>
                </select>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col">
                <label for="foto">Foto del usuario:    </label>
                <input type="file" name="photo" class="form-control-file" accept="image/*" required>
            </div>
        </div>
        <hr>

        <input class="button-primary mt-3 btn btn-info btn-block bold" type="submit" value="Crear usuario">
    </form>
</section>
<script>
    //Validación de contraseñas
    function validarFormulario() {
        var password = document.getElementById("password").value;
        var checkpassword = document.getElementById("check_password").value;
        if (password !== checkpassword) {
            alert("Las contraseñas no coinciden");
            return false;
        }
        
        return true;
    }
</script>
{% endblock %}